<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Implementation of LinkedList in Javascript</title>
    </head>
    <body>
        <p>Implementation of LinkedList in Javascript</p>
        <script>
            class Node {
                constructor(value) {
                    this.value = value
                    this.next = null
                }
            }
        
            class LinkedList {
                constructor() {
                    this.head = null
                    this.size = 0
                }
                // functions to be implemented 
                // add(element) 
                add(element) {
                    var newNode = new Node(element)
                    var current = null

                    if (this.head == null) {
                        this.head = newNode
                    } else {
                        current = this.head
                        while (current.next) {
                            current = current.next
                        }
                        current.next = newNode
                    }
                    this.size ++
                }

                // insertAt(element, position) 
                insertAt(element, position) {
                    if (position > 0 && position > this.size) {
                        return false
                    } else {
                        var newNode = new Node(element)
                        var current, prev;
                        if (position == 0) {
                            newNode.next = this.head
                            this.head = newNode
                        } else {
                            current = this.head
                            var count = 0
                            while (current && count < position) {
                                prev = current
                                current = current.next
                                count ++
                            }
                            newNode.next = current
                            prev.next = newNode
                        }
                        this.size ++
                    }
                }

                // removeFrom(location) 
                removeFrom(position) {
                    if (position > 0 && position > this.size) {
                        return -1
                    } else {
                        var current = this.head
                        if (position == 0) {
                            this.head = current.next
                        } else {
                            var prev = null
                            current = this.head
                            var count = 0
                            while (current && count < position) {
                                prev = current
                                current = current.next
                                count ++
                            }
                            prev.next = current.next
                        }
                        this.size --
                        return current.value
                    }
                }

                // removeElement(element) 
                removeElement(element) {
                    var current = this.head
                    var prev = null
                    while (current) {
                        if (current.value == element) {
                            if (prev == null) {
                                this.head = current.next
                            } else {
                                prev.next = current.next
                            }
                            this.size --
                            return current.value
                        }
                        prev = current
                        current = current.next
                    }
                    return -1
                }
            
                // indexOf(element) 
                indexOf(element) {
                    var current = this.head
                    var index = 0
                    while (current) {
                        if (current.value == element) {
                            return index
                        }
                        index ++
                        current = current.next
                    }
                    return -1
                }

                // isEmpty 
                isEmpty() {
                    return this.size == 0
                }

                // size_Of_List 
                size_of_list() {
                    return this.size
                }

                // PrintList 
                printList() {
                    var str = ""
                    var current = this.head
                    while (current) {
                        str += current.value + " "
                        current = current.next
                    }
                    console.log(str)
                }
            }


            // creating an object for the 
            // Linkedlist class 
            var ll = new LinkedList(); 
            
            // testing isEmpty on an empty list 
            // returns true 
            console.log(ll.isEmpty()); 
                
            // adding element to the list 
            ll.add(10); 
                
            // prints 10 
            ll.printList(); 
                
            // returns 1 
            console.log(ll.size_of_list()); 
                
            // adding more elements to the list 
            ll.add(20); 
            ll.add(30); 
            ll.add(40); 
            ll.add(50); 
                
            // returns 10 20 30 40 50 
            ll.printList(); 
                
            // prints 50 from the list 
            console.log("is element removed ?" + ll.removeElement(50)); 
                
            // prints 10 20 30 40 
            ll.printList(); 
                
            // returns 3 
            console.log("Index of 40 " + ll.indexOf(40)); 
                
            // insert 60 at second position 
            // ll contains 10 20 60 30 40 
            ll.insertAt(60, 2); 
                
            ll.printList(); 
                
            // returns false 
            console.log("is List Empty ? " + ll.isEmpty()); 
                
            // remove 3rd element from the list 
            console.log(ll.removeFrom(3)); 
                
            // prints 10 20 60 40 
            ll.printList(); 
        </script>
    </body>
</html>